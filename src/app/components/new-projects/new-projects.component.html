<div class="container">
  <div class="header">
    <h1>Manage.me</h1>
    <button (click)="toggleForm()">Create new project</button>
  </div>
  <table>
    <thead>
      <tr>
        <th>Nazwa projektu</th>
        <th>Opis</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let project of projects">
        <td>{{ project.name }}</td>
        <td>{{ project.description }}</td>
        <td>
          <button (click)="deleteProject(project.id)">Delete</button>
          <button (click)="projectDetails(project.id)">Details</button>
          <button (click)="editProject(project)">Edit</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="showForm">
    <form *ngIf="!selectedProject" (ngSubmit)="addProject(newProject)">
      <input id="name" [(ngModel)]="newProject.name" name="name" required>
      <input id="description" [(ngModel)]="newProject.description" name="description" required>
      <button type="submit">Add Project</button>
    </form>
    <form *ngIf="selectedProject" (ngSubmit)="updateProject()">
      <label for="name">Name:</label>
      <input id="name" [(ngModel)]="selectedProject.name" name="name" required>
      <label for="description">Description:</label>
      <input id="description" [(ngModel)]="selectedProject.description" name="description" required>
      <button type="submit">Update Project</button>
      <button type="button" (click)="showForm = false">Cancel</button>
    </form>
  </div>
</div>

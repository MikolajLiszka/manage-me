<h2>Project Details</h2>

<div *ngIf="project">
  <div>
    <h3>{{ project.name }}</h3>
    <p>{{ project.description }}</p>
  </div>

  <button (click)="toggleFunctionalityForm()">Create new functionality</button>

  <form *ngIf="showFunctionalityForm" (ngSubmit)="createFunctionality()">
    <h3>Create Functionality</h3>
    <label>
      Name:
      <input type="text" [(ngModel)]="newFunctionality.name" name="name" required>
    </label>
    <br>
    <label>
      Description:
      <textarea [(ngModel)]="newFunctionality.description" name="description" required></textarea>
    </label>
    <label>
      Priority:
      <input type="text" [(ngModel)]="newFunctionality.priority" name="priority" required>
    </label>
    <label>
      Owner:
      <input type="text" [(ngModel)]="newFunctionality.owner" name="owner" required>
    </label>
    <label>
      State:
      <input type="text" [(ngModel)]="newFunctionality.state" name="state" required>
    </label>
    <br>
    <button type="submit">Create</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Priority</th>
        <th>Owner</th>
        <th>State</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let functionality of functionalities">
        <td>{{ functionality.name }}</td>
        <td>{{ functionality.description }}</td>
        <td>{{ functionality.priority }}</td>
        <td>{{ functionality.owner }}</td>
        <td>{{ functionality.state }}</td>
      </tr>
    </tbody>
  </table>

  <button (click)="goBack()">Back to Projects</button>
</div>
